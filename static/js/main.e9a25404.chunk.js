(this["webpackJsonpimdb-clone"]=this["webpackJsonpimdb-clone"]||[]).push([[0],{60:function(n,e,t){},61:function(n,e,t){},68:function(n,e,t){"use strict";t.r(e);var a=t(7),i=t.n(a),r=t(50),c=t.n(r),o=(t(60),t(13)),s=t(28),l=t(16),d=t(22),u=(t(61),t(0)),b=t.n(u),j=t(1),m=t(51),h=t(32),p=t(29),g={apiKey:"AIzaSyBsGjh1FIi16TAbQ5RZi5t8MbJlyrjLHU8",authDomain:"imdc-ab349.firebaseapp.com",projectId:"imdc-ab349",storageBucket:"imdc-ab349.appspot.com",messagingSenderId:"19645994628",appId:"1:19645994628:web:4ef7342f59ae04e30fd4d1"},f=Object(m.a)(g),O=Object(p.c)(f);function x(n){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.b)(Object(p.a)(O,"users",e.uid));case 2:if(void 0!==(t=n.sent).data()){n.next=5;break}return n.abrupt("return",[]);case 5:return n.abrupt("return",t.data().watchlist);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(b.a.mark((function n(e,t){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(e);case 2:a=n.sent,a.some((function(n){return n===t}))?console.error("Movie already added to the watchlist."):Object(p.d)(Object(p.a)(O,"users",e.uid),{watchlist:a.concat(t)});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(b.a.mark((function n(e,t){var a,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(e);case 2:a=n.sent,i=a.length,(a=a.filter((function(n){return n!==t}))).length<i?Object(p.d)(Object(p.a)(O,"users",e.uid),{watchlist:a}):console.error("Movie not found.");case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var S,k,A,N,I,T,C,_,z,E,W,B,F,G,U,R,J,M,D,H,q,K,L,P,X,Y=t(11),Q=t(12),Z=Q.a.div(S||(S=Object(Y.a)(["\n  position: relative;\n"]))),V=Q.a.div(k||(k=Object(Y.a)(["\n  display: flex;\n  transition: 0.5s ease-in-out;\n"]))),$=Q.a.button(A||(A=Object(Y.a)(["\n  position: absolute;\n  top: 25%;\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  cursor: pointer;\n  padding: 0.5rem 0;\n  border: 1px solid rgb(255, 255, 255, 0.7);\n  border-radius: 0.25rem;\n\n  &:hover {\n    color: #f5c518;\n  }\n\n  & .material-icons {\n    font-size: 3.5rem;\n  }\n"]))),nn=Object(Q.a)($)(N||(N=Object(Y.a)(["\n  left: 0;\n"]))),en=Object(Q.a)($)(I||(I=Object(Y.a)(["\n  right: 0;\n"]))),tn=Q.a.p(T||(T=Object(Y.a)(["\n  padding: 1rem;\n  font-weight: 600;\n  font-size: 1.5rem;\n"]))),an=t(6),rn=function(n){var e=n.id,t=n.data,i=Object(a.useState)(0),r=Object(o.a)(i,2),c=r[0],s=r[1];function l(n){var e=Object(h.a)().currentUser;void 0!==e&&null!==e&&function(n,e){w.apply(this,arguments)}(e,n.id)}function d(n){var e=window.innerWidth,t=document.getElementById("carousel-upcoming").scrollWidth;"right"===n?t+c>e&&s((function(n){return n-e/2})):s((function(n){return n+e/2}))}return Object(an.jsx)(Z,{children:void 0!==t&&t.length>0?Object(an.jsxs)(an.Fragment,{children:[Object(an.jsx)(V,{id:e,style:{transform:"translateX(".concat(c,"px)")},children:t.map((function(n){return Object(an.jsxs)("div",{className:"movie",children:[Object(an.jsx)("div",{className:"movie__cover",children:Object(an.jsx)("img",{src:n.image,alt:n.title})}),Object(an.jsxs)("span",{className:"movie__rating",children:[Object(an.jsx)("span",{className:"material-icons icon-rating",children:"star"}),n.imDbRating?n.imDbRating:n.metacriticRating?n.metacriticRating:"-"]}),Object(an.jsx)("span",{className:"movie__date",children:n.releaseState}),Object(an.jsx)("span",{className:"movie__title",title:n.title,children:n.title}),Object(an.jsxs)("button",{className:"btn-watchlist",onClick:function(){return l(n)},children:[Object(an.jsx)("span",{className:"material-icons icon-watchlist",children:"add"}),"Watchlist"]})]},n.id)}))}),c<0?Object(an.jsx)(nn,{onClick:function(){return d("left")},children:Object(an.jsx)("span",{className:"material-icons material-icons-outlined",children:"keyboard_arrow_left"})}):null,Object(an.jsx)(en,{onClick:function(){return d("right")},children:Object(an.jsxs)("span",{className:"material-icons material-icons-outlined",children:["keyboard_arrow_right"," "]})})]}):Object(an.jsx)(tn,{children:"Something went wrong."})})},cn=Q.a.div(C||(C=Object(Y.a)(["\n  background: #121212;\n"]))),on=Q.a.section(_||(_=Object(Y.a)(["\n  padding: 2rem 2rem;\n  margin: 1rem auto 0;\n  overflow: hidden;\n\n  @media (min-width: 1360px) {\n    max-width: 1360px;\n  }\n"]))),sn=Q.a.div(z||(z=Object(Y.a)(["\n  text-align: left;\n  margin: 0 1rem 1rem;\n  cursor: pointer;\n  border: 1px dashed transparent;\n\n  &:hover {\n    & .material-icons {\n      color: #f5c518;\n    }\n  }\n\n  &:active {\n    border: 1px dashed #fff;\n  }\n"]))),ln=Q.a.h3(E||(E=Object(Y.a)(["\n  position: relative;\n  font-size: 1.5rem;\n  font-weight: 600;\n  padding: 0 0 0 1rem;\n\n  &::before {\n    position: absolute;\n    content: '';\n    width: 4px;\n    height: 100%;\n    left: 0;\n    border-radius: 0.25rem;\n    background: #f5c518;\n  }\n\n  & span {\n    vertical-align: middle;\n    font-size: 2.5rem;\n  }\n"]))),dn=Q.a.p(W||(W=Object(Y.a)(["\n  padding: 1rem 0 0;\n  font-size: 1.15rem;\n  opacity: 0.7;\n  letter-spacing: 0.05rem;\n"]))),un=function(n){var e=n.id,t=n.title,a=n.subtitle,i=n.type,r=n.data,c=n.loading;return Object(an.jsx)(cn,{children:Object(an.jsxs)(on,{children:[Object(an.jsxs)(sn,{children:[Object(an.jsxs)(ln,{children:[t," ",Object(an.jsx)("span",{className:"material-icons",children:"keyboard_arrow_right"})]}),Object(an.jsx)(dn,{children:a})]}),c?Object(an.jsx)("span",{className:"material-icons icon-loading",children:"autorenew"}):"carousel"===i?Object(an.jsx)(rn,{id:e,data:r}):null]})})},bn="/imdb-clone/img/hero/main",jn="/imdb-clone/img/hero/cover",mn=[{title:"The Book of Boba Fett",subtitle:"Watch the New Trailer",image:"".concat(bn,"/01.jpg"),cover:"".concat(jn,"/01c.jpg")},{title:"Get to Know The 'Last Night in Soho' Creators and Cast",subtitle:"What Edgar Wright Swiped From Set",image:"".concat(bn,"/02.jpg"),cover:"".concat(jn,"/02c.jpg")},{title:"Lady Gaga Takes On Fashion Royalty in 'House of Gucci'",subtitle:"Watch the Latest Trailer",image:"".concat(bn,"/03.jpg"),cover:"".concat(jn,"/03c.jpg")},{title:"What to Expect in the 'Dune' Sequel",subtitle:"Denis Villeneuve Teases the Next Chapter",image:"".concat(bn,"/04.jpg"),cover:"".concat(jn,"/04c.jpg")},{title:'"The Witcher" Returns Dec. 17',subtitle:"Watch the Season 2 Trailer",image:"".concat(bn,"/05.jpg"),cover:"".concat(jn,"/05c.jpg")},{title:"Zendaya's Journey From 'Shake It Up' to 'Dune'",subtitle:"Follow Her Rise to Fame",image:"".concat(bn,"/06.jpg"),cover:"".concat(jn,"/06c.jpg")},{title:"Tom Holland Stars in 'Uncharted'",subtitle:"Watch the First Trailer",image:"".concat(bn,"/07.jpg"),cover:"".concat(jn,"/07c.jpg")},{title:"The Wheel of Time",subtitle:"Watch the New Trailer",image:"".concat(bn,"/08.jpg"),cover:"".concat(jn,"/08c.jpg")},{title:'Everything We Know About "The Book of Boba Fett"',subtitle:"Our Hot Takes After the Trailer Drop",image:"".concat(bn,"/09.jpg"),cover:"".concat(jn,"/09c.jpg")},{title:"Patrick Wilson and Halle Berry Try to Save Earth in 'Moonfall'",subtitle:"Watch the Teaser Trailer",image:"".concat(bn,"/10.jpg"),cover:"".concat(jn,"/10c.jpg")},{title:"What to Watch in November",subtitle:"'Red Notice' and More",image:"".concat(bn,"/11.jpg"),cover:"".concat(jn,"/11c.jpg")},{title:'The Official "Cowboy Bebop" Trailer Is Here',subtitle:"Hits Netflix Friday, Nov. 19",image:"".concat(bn,"/12.jpg"),cover:"".concat(jn,"/12c.jpg")}],hn=Q.a.button(B||(B=Object(Y.a)(["\n  color: #fff;\n  padding: 0.5rem;\n  min-height: 3rem;\n  cursor: pointer;\n  border: 1px dashed transparent;\n  transition: 0.15s ease-in-out;\n\n  &:hover {\n    background: #252525;\n  }\n\n  &:active {\n    background: #5e5e5e;\n  }\n\n  &:focus {\n    border: 1px dashed #fff;\n  }\n"]))),pn=Object(Q.a)(hn)(F||(F=Object(Y.a)(["\n  color: #fff;\n  font-weight: 600;\n  padding: 0 1.5rem;\n  border-radius: 0.5rem;\n"]))),gn=Object(Q.a)(hn)(G||(G=Object(Y.a)(["\n  aspect-ratio: 1;\n  border-radius: 100%;\n"]))),fn=function(n){var e=n.type,t=n.variant,a=n.icon,i=n.value,r=n.onClick,c=n.className;return"text"===t?Object(an.jsx)(pn,{type:e,className:c,onClick:r,children:i}):Object(an.jsx)(gn,{type:e,className:c,onClick:r,children:Object(an.jsx)("span",{className:"material-icons",children:a})})},On=Q.a.div(U||(U=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 2rem;\n  flex-wrap: wrap;\n  padding: 1rem;\n\n  @media (min-width: 1000px) {\n    flex-wrap: nowrap;\n  }\n\n  @media (min-width: 1360px) {\n    max-width: 1360px;\n  }\n"]))),xn=Q.a.div(R||(R=Object(Y.a)(["\n  position: relative;\n  background: #000;\n  width: 100%;\n  max-width: 700px;\n  aspect-ratio: 16 / 9;\n  padding: 0rem 0 3rem;\n  text-align: left;\n  flex-grow: 1;\n"]))),vn=Q.a.div(J||(J=Object(Y.a)(["\n  overflow: hidden;\n\n  & img {\n    width: 100%;\n    height: auto;\n    object-fit: cover;\n    object-position: bottom;\n    mask-image: linear-gradient(\n      to top,\n      transparent,\n      transparent 10%,\n      black 90%,\n      black 100%\n    );\n  }\n"]))),wn=Q.a.div(M||(M=Object(Y.a)(["\n  position: absolute;\n  left: 1rem;\n  bottom: 0.5rem;\n  width: 70px;\n  height: auto;\n\n  & img {\n    width: 100%;\n    height: auto;\n  }\n\n  @media (min-width: 500px) {\n    width: 120px;\n    left: 1.5rem;\n  }\n\n  @media (min-width: 1360px) {\n    width: 150px;\n    left: 1.5rem;\n  }\n"]))),yn=Q.a.div(D||(D=Object(Y.a)(["\n  position: absolute;\n  left: 6rem;\n  bottom: 0.3rem;\n  margin: 0 3rem 0.5rem 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  align-items: start;\n\n  @media (min-width: 500px) {\n    flex-direction: row;\n    left: 11rem;\n  }\n\n  @media (min-width: 1280px) {\n    left: 12rem;\n    margin: 0 4rem 0.5rem 1rem;\n  }\n"]))),Sn=Object(Q.a)(fn)(H||(H=Object(Y.a)(["\n  margin: 0;\n  padding: 0;\n  transform: translateX(-4px);\n\n  &:hover {\n    background: none;\n    transition: none;\n  }\n\n  & .material-icons {\n    font-size: 3rem;\n\n    &:hover {\n      color: #f5c518;\n    }\n  }\n\n  @media (min-width: 500px) {\n    & .material-icons {\n      font-size: 5rem;\n    }\n  }\n\n  @media (min-width: 1360px) {\n    & .material-icons {\n      font-size: 7rem;\n    }\n  }\n"]))),kn=Q.a.h2(q||(q=Object(Y.a)(["\n  font-size: 1.2rem;\n  font-weight: 400;\n\n  @media (min-width: 500px) {\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: 1360px) {\n    font-size: 2rem;\n  }\n"]))),An=Q.a.h3(K||(K=Object(Y.a)(["\n  font-size: 1rem;\n  font-weight: 400;\n  opacity: 0.7;\n\n  @media (min-width: 500px) {\n    font-size: 1.3rem;\n  }\n\n  @media (min-width: 1360px) {\n    font-size: 1.6rem;\n  }\n"]))),Nn=Q.a.div(L||(L=Object(Y.a)(["\n  display: inline-block;\n  text-align: left;\n  margin: 1rem 2rem 0 0;\n\n  & span {\n    padding: 1rem 0;\n    font-size: 1.5rem;\n    font-weight: 600;\n    color: #f5c518;\n  }\n\n  & img {\n    width: 75px;\n    vertical-align: top;\n    margin: 0;\n  }\n"]))),In=Q.a.div(P||(P=Object(Y.a)(["\n  margin: 1rem 0;\n  cursor: pointer;\n  display: flex;\n"]))),Tn=Q.a.div(X||(X=Object(Y.a)(["\n  padding: 1rem;\n  display: inline-block;\n  margin: 0;\n\n  & p {\n    display: block;\n    font-size: 1.2rem;\n  }\n\n  & p:last-child {\n    opacity: 0.7;\n  }\n"]))),Cn=function(){var n=Object(a.useState)({current:0,pause:!1}),e=Object(o.a)(n,2),t=e[0],i=e[1],r=Object(a.useState)([1,2,3]),c=Object(o.a)(r,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){if(!t.pause){var n=setTimeout((function(){i(Object(d.a)(Object(d.a)({},t),{},{current:t.current===mn.length-1?0:t.current+1})),u(l.map((function(n){return(n+=1)===mn.length&&(n=0),n})))}),7e3);return function(){return clearTimeout(n)}}})),Object(an.jsxs)(On,{children:[Object(an.jsx)(xn,{onMouseEnter:function(){i(Object(d.a)(Object(d.a)({},t),{},{pause:!0}))},onMouseLeave:function(){i(Object(d.a)(Object(d.a)({},t),{},{pause:!1}))},children:Object(an.jsxs)(s.b,{to:"/",children:[Object(an.jsx)(vn,{children:Object(an.jsx)("img",{src:mn[t.current].image,alt:mn[t.current].title})}),Object(an.jsx)(wn,{children:Object(an.jsx)("img",{src:mn[t.current].cover,alt:mn[t.current].title})}),Object(an.jsxs)(yn,{children:[Object(an.jsx)(Sn,{type:"button",variant:"icon",icon:"play_circle_outline"}),Object(an.jsxs)("div",{children:[Object(an.jsx)(kn,{children:mn[t.current].title}),Object(an.jsx)(An,{children:mn[t.current].subtitle})]})]})]})}),Object(an.jsxs)(Nn,{children:[Object(an.jsx)("span",{children:"Up Next"}),l.map((function(n){return Object(an.jsxs)(In,{onClick:function(){return i(Object(d.a)(Object(d.a)({},t),{},{current:n}))},children:[Object(an.jsx)("img",{src:mn[n].cover,alt:mn[n].title}),Object(an.jsxs)(Tn,{children:[Object(an.jsx)("p",{children:mn[n].title}),Object(an.jsx)("p",{children:mn[n].subtitle})]})]},n)}))]})]})};function _n(n){return n.substring(0,n.indexOf("._"))+"._V1_UX256.jpg"}function zn(){return(zn=Object(j.a)(b.a.mark((function n(){var e,t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://imdb-api.com/en/API/ComingSoon/k_cr891qpm");case 2:return e=n.sent,n.next=5,e.json();case 5:return e=n.sent,n.next=8,e.items.map((function(n){return n.image.includes("amazon")&&(n.image=_n(n.image)),n}));case 8:return t=n.sent,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function En(){return(En=Object(j.a)(b.a.mark((function n(){var e,t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://imdb-api.com/en/API/InTheaters/k_cr891qpm");case 2:return e=n.sent,n.next=5,e.json();case 5:return e=n.sent,n.next=8,e.items.map((function(n){return n.image.includes("amazon")&&(n.image=_n(n.image)),n}));case 8:return t=n.sent,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Wn,Bn,Fn,Gn,Un,Rn,Jn,Mn,Dn,Hn,qn,Kn,Ln,Pn,Xn,Yn=function(){var n=Object(a.useState)({data:[],loading:!0}),e=Object(o.a)(n,2),t=e[0],i=e[1],r=Object(a.useState)({data:[],loading:!0}),c=Object(o.a)(r,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){var n=JSON.parse(localStorage.getItem("movies"));null!==n&&n.length>0?n.forEach((function(n){n.releaseState.includes("Opening")?l((function(e){var t=e.data.concat(n);return Object(d.a)(Object(d.a)({},e),{},{data:t,loading:!1})})):i((function(e){var t=e.data.concat(n);return Object(d.a)(Object(d.a)({},e),{},{data:t,loading:!1})}))})):(function(){return zn.apply(this,arguments)}().then((function(n){i({data:n,loading:!1});var e=JSON.parse(localStorage.getItem("movies"));if(null!==e){if(e.some((function(n){return!n.releaseState.includes("Opening")})))return;localStorage.setItem("movies",JSON.stringify(e.concat(n)))}else localStorage.setItem("movies",JSON.stringify(n))})),function(){return En.apply(this,arguments)}().then((function(n){l({data:n,loading:!1});var e=JSON.parse(localStorage.getItem("movies"));if(null!==e){if(e.some((function(n){return!n.releaseState.includes("Opening")})))return;localStorage.setItem("movies",JSON.stringify(e.concat(n)))}else localStorage.setItem("movies",JSON.stringify(n))})))}),[]),Object(an.jsxs)("div",{className:"App",children:[Object(an.jsx)(Cn,{}),Object(an.jsx)(un,{id:"carousel-upcoming",title:"Coming soon to theaters",subtitle:"Trailers for upcoming releases",type:"carousel",data:t.data,loading:t.loading}),Object(an.jsx)(un,{id:"carousel-intheaters",title:"In theaters",subtitle:"Showtimes near you",type:"carousel",data:s.data,loading:s.loading})]})},Qn=Q.a.div(Wn||(Wn=Object(Y.a)(["\n  background: #121212;\n"]))),Zn=Q.a.header(Bn||(Bn=Object(Y.a)(["\n  position: relative;\n  min-height: 3.5rem;\n  padding: 0.25rem;\n  display: flex;\n  align-items: center;\n\n  & .header-logo {\n    flex-grow: 1;\n    text-align: left;\n    margin: auto auto auto 1rem;\n\n    & img {\n      vertical-align: middle;\n      border-radius: 0.25rem;\n    }\n  }\n\n  @media (min-width: 1360px) {\n    max-width: 1360px;\n  }\n"]))),Vn=Object(Q.b)(Fn||(Fn=Object(Y.a)(["\n  to {\n    background: rgba(0, 0, 0, 0.5);\n  }\n"]))),$n=Q.a.div(Gn||(Gn=Object(Y.a)(["\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  top: 0;\n  animation: "," 0.3s forwards;\n  z-index: 1000;\n"])),Vn),ne=Object(Q.b)(Un||(Un=Object(Y.a)(["\n  from {\n    transform: translateX(-280px);\n  }\n  to {\n    transform: translateX(0);\n  }\n"]))),ee=Q.a.div(Rn||(Rn=Object(Y.a)(["\n  width: 280px;\n  height: 100%;\n  margin: 0;\n  background: #1f1f1f;\n  animation: "," 0.3s;\n"])),ne),te=Q.a.div(Jn||(Jn=Object(Y.a)(["\n  position: relative;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAFNJREFUGBlj/P//vzwDBHxkZGT8AGWjUEA1AowgAijKD5XBqZgRpIAYxWCFxCiGKySkGEUhPsUYCnEpxqoQm2ImqI9BcigAGqYfoYL8TEAGPzGKAcYdNCelTSU5AAAAAElFTkSuQmCC');\n  min-height: 4rem;\n\n  & "," {\n    position: absolute;\n    right: 4px;\n    top: 0;\n    min-height: calc(100% - 8px);\n    margin: 4px 0;\n\n    &:hover {\n      background: rgba(255, 255, 255, 0.15);\n    }\n  }\n"])),gn),ae=function(n){var e=n.user,t=n.onSignOut,i=Object(a.useState)(!1),r=Object(o.a)(i,2),c=r[0],l=r[1];function d(n){n.target.classList.contains("drawer")||l(!c)}return Object(an.jsx)(Qn,{children:Object(an.jsxs)(Zn,{children:[Object(an.jsx)(fn,{type:"button",variant:"icon",icon:"menu",onClick:d}),c?Object(an.jsx)($n,{onClick:d,children:Object(an.jsx)(ee,{className:"drawer",children:Object(an.jsx)(te,{className:"drawer",children:Object(an.jsx)(fn,{type:"button",variant:"icon",icon:"close",onClick:d})})})}):null,Object(an.jsx)("div",{className:"header-logo",children:Object(an.jsx)(s.b,{to:"/imdb-clone",children:Object(an.jsx)("img",{src:"/imdb-clone/img/logo.png",alt:"IMDc logo"})})}),Object(an.jsx)(fn,{type:"button",variant:"icon",icon:"search"}),Object(an.jsx)(s.b,{to:"/imdb-clone/watchlist",children:Object(an.jsx)(fn,{type:"button",variant:"text",value:"Watchlist"})}),e.didAuth?Object(an.jsx)(s.b,{to:"/imdb-clone",onClick:t,children:Object(an.jsx)(fn,{type:"button",variant:"text",value:"Sign out"})}):Object(an.jsx)(s.b,{to:"/imdb-clone/sign-in",children:Object(an.jsx)(fn,{type:"button",variant:"text",value:"Sign in"})})]})})},ie=t(30),re=Q.a.div(Mn||(Mn=Object(Y.a)(["\n  text-align: center;\n"]))),ce=Q.a.div(Dn||(Dn=Object(Y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  background: #121212;\n  margin: 1rem 0;\n  padding: 2rem 0.5rem;\n"]))),oe=Q.a.h2(Hn||(Hn=Object(Y.a)(["\n  font-weight: 600;\n  font-size: 1.5rem;\n  text-align: center;\n  padding: 2rem 0;\n"]))),se=Q.a.div(qn||(qn=Object(Y.a)(["\n  position: absolute;\n  right: -1rem;\n  top: -1rem;\n  filter: drop-shadow(0 2px 2px #373737);\n"]))),le=function(){var n=Object(a.useState)([]),e=Object(o.a)(n,2),t=e[0],i=e[1];function r(n){var e=Object(ie.b)().currentUser;void 0!==e&&null!==e&&(!function(n,e){y.apply(this,arguments)}(e,n),i((function(e){return e.filter((function(e){return e.id!==n}))})))}return Object(a.useEffect)((function(){var n=Object(ie.b)().currentUser;function e(){return(e=Object(j.a)(b.a.mark((function n(e){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://imdb-api.com/en/API/SearchMovie/k_cr891qpm/".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}void 0!==n&&null!==n&&x(n).then((function(n){var t=JSON.parse(localStorage.getItem("movies"));t&&t.length>0?n.forEach((function(n){var e=t.find((function(e){return e.id===n}));i((function(n){return n.concat(e)}))})):n.forEach((function(n){(function(n){return e.apply(this,arguments)})(n).then((function(n){return i((function(e){return e.concat(n.results[0])}))})).catch((function(n){return console.error(n)}))}))}))}),[]),Object(an.jsx)(re,{children:Object(an.jsx)(ce,{children:t.length>0?t.map((function(n){return Object(an.jsxs)("div",{className:"movie",children:[Object(an.jsx)("div",{className:"movie__cover",children:Object(an.jsx)("img",{src:n.image,alt:n.title})}),Object(an.jsx)("span",{className:"movie__title",title:n.title,children:n.title}),Object(an.jsx)("button",{className:"btn-watchlist",children:"Mark as watched"}),Object(an.jsx)(se,{onClick:function(){return r(n.id)},children:Object(an.jsx)(fn,{type:"button",variant:"icon",icon:"highlight_off"})})]},n.id)})):Object(an.jsxs)("div",{children:[Object(an.jsx)(oe,{children:"Your watchlist is empty."}),Object(an.jsx)(s.b,{to:"/imdb-clone",children:Object(an.jsx)(fn,{type:"button",variant:"text",value:"Return Home"})})]})})})},de=Q.a.div(Kn||(Kn=Object(Y.a)(["\n  background: #1f1f1f;\n  height: 100vh;\n"]))),ue=Q.a.form(Ln||(Ln=Object(Y.a)(["\n  width: 90%;\n  max-width: 300px;\n  padding: 3rem 0;\n  text-align: center;\n"]))),be=Q.a.legend(Pn||(Pn=Object(Y.a)(["\n  font-size: 1.8rem;\n"]))),je=Object(Q.a)(fn)(Xn||(Xn=Object(Y.a)(["\n  background: #f5c518;\n  color: #000000;\n  display: block;\n  width: 100%;\n  margin: 1rem auto;\n\n  &:hover {\n    background: #f5c518;\n    opacity: 0.9;\n  }\n"]))),me=function(n){n.handleSignIn;var e=n.onSignIn,t=Object(l.f)([]);function a(){return(a=Object(j.a)(b.a.mark((function n(){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new ie.a,n.next=3,Object(ie.d)(Object(ie.b)(),t).then((function(){return e()})).catch((function(n){return console.error(n)}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(an.jsx)(de,{children:Object(an.jsxs)(ue,{children:[Object(an.jsx)(be,{children:"Sign in"}),Object(an.jsx)(je,{type:"button",variant:"text",value:"Sign in with Google",onClick:function(){return a.apply(this,arguments)}}),Object(an.jsx)(je,{type:"button",variant:"text",value:"Sign in as Guest",onClick:function(){!function(){var n=Object(h.a)();Object(h.b)(n)}(),localStorage.setItem("didAuth","true"),t.push("/imdb-clone",{isSignedIn:!0}),e()}})]})})},he=function(){var n=Object(a.useState)({didAuth:!1}),e=Object(o.a)(n,2),t=e[0],i=e[1];function r(){i({didAuth:!0}),localStorage.setItem("didAuth",t.didAuth.toString())}return Object(a.useEffect)((function(){localStorage.didAuth&&i({didAuth:!0})}),[]),Object(an.jsxs)(s.a,{children:[Object(an.jsx)(ae,{user:t,onSignIn:r,onSignOut:function(){Object(h.c)(Object(h.a)()).then((function(){return localStorage.removeItem("auth")})),i({didAuth:!1}),localStorage.removeItem("didAuth")}}),Object(an.jsxs)(l.c,{children:[Object(an.jsx)(l.a,{exact:!0,path:"/imdb-clone",component:Yn}),Object(an.jsx)(l.a,{exact:!0,path:"/imdb-clone/watchlist",component:le}),Object(an.jsx)(l.a,{exact:!0,path:"/imdb-clone/sign-in",render:function(n){return Object(an.jsx)(me,{onSignIn:r})}})]})]})};c.a.render(Object(an.jsx)(i.a.StrictMode,{children:Object(an.jsx)(he,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.e9a25404.chunk.js.map